{"version":3,"sources":["Card3D.js","app.js"],"names":["Card3D","obj","_this","this","_classCallCheck","varDebounce","card","document","querySelector","anim1","anim2","anim3","anim4","arr_element","addEventListener","mainAnimate","bind","e","setTimeout","removeAttribute","_this2","clearTimeout","rect","target","getBoundingClientRect","layerX","offset_y","offsetY","layerY","returnToPlace","width","y","height","x","elementDirectionalShift","forEach","item","concat","i","length","window","objCard3D"],"mappings":"uZACMA,kBACF,SAAAA,EAAYC,GAAK,IAAAC,EAAAC,KAAAC,gBAAAD,KAAAH,GACbG,KAAKE,YAAc,EACnBF,KAAKG,KAAOC,SAASC,cAAcP,EAAIK,MACvCH,KAAKM,MAAQF,SAASC,cAAcP,EAAIQ,OACxCN,KAAKO,MAAQH,SAASC,cAAcP,EAAIS,OACxCP,KAAKQ,MAAQJ,SAASC,cAAcP,EAAIU,OAPhDR,KAAAS,MAAAL,SAAAC,cAAAP,EAAAW,OACMZ,KAQOa,YAAc,CAACV,KAAKM,MAAON,KAAKO,MAAOP,KAAKQ,MAAOR,KAAKS,OAPhDT,KAAAG,KAAAQ,iBAAA,YAAAX,KAAAY,YAAAC,KAAAb,OAAAA,KAAAG,KAAAQ,iBAAA,cAAA,SAAAG,GAYTC,YAAW,WAXVb,EAALC,KAAAa,gBAAA,SACYZ,EAAAA,kBACZ,QAGAJ,KAAKS,KAAQL,iBAASC,YAAkBI,SAAAA,GACnCC,YAAc,WAETC,EAAAA,KAAAA,gBAAV,SAEUA,EAAAA,kBACNI,wDAGC,SAHDD,GAAA,IAAAG,EAAAjB,KADJkB,aAAAlB,KAAAE,aAOAF,KAAAE,YAAUS,YAAiB,WACvBI,IAAUI,EAACL,EAAAM,OAAMC,wBACRlB,EAAKa,EAAAA,SAAgBF,EAA1BQ,OAWAC,EAAWT,EAAEU,SAAWV,EAAEW,OAVrBC,EAAAA,IAAAA,EAALP,EAAAQ,MAFJC,EAAA,IAAAL,EAAAJ,EAAAU,OAKPZ,EAAAS,gBAaWI,EAAI,IAAMF,EAAI,GACdX,EAAKc,wBAAwB,IAAK,IAZ9CD,EAAA,IAAAF,EAAe,GAAAX,EAAAc,wBAAA,GAAA,IAeID,EAAI,IAAMF,EAAI,GAd7BV,EAAaa,yBAAb,IAAA,IACAD,EAAmBf,IAAAA,EAAW,IAClBE,EAAKG,yBAAOC,GAAT,MAGX,iCAGA,WAgBJrB,KAAKU,YAAYsB,SAAQ,SAAAC,GAAI,OAAIA,EAAKjB,gBAAgB,mDAZjD,SAAUc,EAAWF,GAClB5B,KAAAG,KAAK4B,MAAAA,UAAL,+BAAAG,OAAAJ,EAAA,iBAAAI,OAAAN,EAAA,QACH,IAFM,IAEAO,EAAK,EAAGA,EAAJnC,KAAcU,YAAI0B,OAAAD,IACzBnC,KAAK+B,YAAAA,GAAAA,MAAAA,UAAL,+BAAAG,OAAAJ,EAAA,iBAAAI,OAAAN,EAAA,oBAAAM,OAAA,IAAAC,EAAA,GAAA;aC5ChBE,OAAO1B,iBAAiB,QAAQ,WAMC,IAAAd,OAJ7B,CACIyC,KAAAA,QACIhC,MAAE,iBAASC,MAAA,iBACfD,MAAO,iBAAkBG,MAAA","file":"app.min.js","sourcesContent":["/* Анимация блока с изображением 3D */\r\nclass Card3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0;\r\n        this.card = document.querySelector(obj.card);\r\n        this.anim1 = document.querySelector(obj.anim1);\r\n        this.anim2 = document.querySelector(obj.anim2);\r\n        this.anim3 = document.querySelector(obj.anim3);\r\n        this.anim4 = document.querySelector(obj.anim4);\r\n        this.arr_element = [this.anim1, this.anim2, this.anim3, this.anim4];\r\n\r\n        this.card.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n\r\n        this.card.addEventListener('mouseleave', (e) => {\r\n            setTimeout(() => {\r\n                this.card.removeAttribute('style');\r\n                this.returnToPlace();\r\n            }, 150)\r\n        })\r\n\r\n        this.card.addEventListener('mouseout', (e) => {\r\n            setTimeout(() => {\r\n                this.card.removeAttribute('style');\r\n                this.returnToPlace();\r\n            }, 150)\r\n        })\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            this.returnToPlace();\r\n\r\n            if (x < 50 && y < 50) {\r\n                this.elementDirectionalShift(11, -11)\r\n            } else if (x > 50 && y < 50) {\r\n                this.elementDirectionalShift(11, 11)\r\n            } else if (x < 50 && y > 50) {\r\n                this.elementDirectionalShift(-11, -11)\r\n            } else if (x > 50 && y > 50) {\r\n                this.elementDirectionalShift(-11, 11)\r\n            }\r\n\r\n        }, 10);\r\n    }\r\n\r\n    returnToPlace() {\r\n        this.arr_element.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    elementDirectionalShift(x, y) {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg)`;\r\n        for (let i = 0; i < this.arr_element.length; i++) {\r\n            this.arr_element[i].style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(${(i + 1) * 50}px)`;\r\n        }\r\n    }\r\n}","window.addEventListener('load', () => {\r\n\r\n    // Анимируемый блок-карточка\r\n    let objCard3D = {\r\n        card: '.anim', // Анимируемый блок\r\n        anim1: '.anim1-element', // Анимируемый элемент слева сверху\r\n        anim2: '.anim2-element', // Анимируемый элемент справа сверху\r\n        anim3: '.anim3-element', // Анимируемый элемент снизу слева\r\n        anim4: '.anim4-element' // Анимируемый элемент снизу справа\r\n    }\r\n    new Card3D(objCard3D);\r\n\r\n})"]}